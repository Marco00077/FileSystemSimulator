{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marco\\\\OneDrive\\\\Desktop\\\\GIT_PBL#\\\\FileSystemSimulator\\\\frontend\\\\src\\\\components\\\\FileExplorer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { fileSystemService, authService } from '../api';\nimport { FaFolder, FaFile, FaArrowUp, FaPlus, FaTrash, FaEdit, FaPen, FaSave, FaMicrophone, FaCheck, FaSun, FaMoon } from 'react-icons/fa';\nimport './FileExplorer.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FileExplorer = () => {\n  _s();\n  const [files, setFiles] = useState([]);\n  const [currentDir, setCurrentDir] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showCreateFolder, setShowCreateFolder] = useState(false);\n  const [showCreateFile, setShowCreateFile] = useState(false);\n  const [newFolderName, setNewFolderName] = useState('');\n  const [newFileName, setNewFileName] = useState('');\n  const [newFileContent, setNewFileContent] = useState('');\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [fileContent, setFileContent] = useState('');\n  const [editMode, setEditMode] = useState(false);\n  const [voiceActive, setVoiceActive] = useState(false);\n  const [voiceText, setVoiceText] = useState('');\n  const [recognitionInterval, setRecognitionInterval] = useState(null);\n  const [successNotification, setSuccessNotification] = useState(null);\n  const [darkMode, setDarkMode] = useState(false);\n  const navigate = useNavigate();\n  const fetchFiles = async () => {\n    try {\n      setLoading(true);\n      setError('');\n\n      // Fetch current directory first\n      console.log('Fetching current directory...');\n      const dirResponse = await fileSystemService.getCurrentDirectory();\n      console.log('Current directory response:', dirResponse);\n      if (dirResponse.data) {\n        setCurrentDir(dirResponse.data);\n        console.log('Current directory set to:', dirResponse.data);\n      } else {\n        console.warn('Unexpected current directory response format:', dirResponse);\n      }\n\n      // Then fetch files in that directory\n      console.log('Fetching files in directory...');\n      const response = await fileSystemService.listFiles();\n      console.log('List files raw response:', response);\n\n      // Check if the response has an items property\n      if (response.data && response.data.items) {\n        console.log('Files list received:', response.data.items);\n        setFiles(response.data.items);\n      } else {\n        // Try to parse the response if it's a string\n        try {\n          if (typeof response.data === 'string') {\n            const parsedData = JSON.parse(response.data);\n            if (parsedData.items) {\n              console.log('Files list parsed from string:', parsedData.items);\n              setFiles(parsedData.items);\n              return;\n            }\n          }\n        } catch (parseErr) {\n          console.error('Failed to parse response data:', parseErr);\n        }\n\n        // Handle the case when the response doesn't have the expected format\n        console.error('Unexpected response format:', response.data);\n        setFiles([]);\n        setError('Unexpected response format from server');\n      }\n    } catch (err) {\n      var _err$response, _err$response2;\n      console.error('Error fetching files:', err);\n      setError('Failed to load files: ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message));\n      if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 401) {\n        // Handle unauthorized\n        console.warn('Unauthorized access detected, logging out...');\n        handleLogout();\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchFiles();\n\n    // Set up initial theme based on local storage\n    const savedTheme = localStorage.getItem('darkMode');\n    if (savedTheme === 'true') {\n      setDarkMode(true);\n      document.body.classList.add('dark-mode');\n    }\n\n    // Test the success notification system on initial load\n    setTimeout(() => {\n      setSuccessNotification(\"Welcome to File System Simulator!\");\n      setTimeout(() => setSuccessNotification(null), 5000);\n    }, 1000);\n  }, []);\n  const handleStartVoiceCommand = async () => {\n    try {\n      setError('');\n\n      // If already listening, stop the voice command\n      if (voiceActive) {\n        console.log('Stopping voice command...');\n\n        // Call the stop endpoint\n        try {\n          await fileSystemService.stopVoiceCommand();\n          console.log('Voice command stopped via API');\n        } catch (err) {\n          console.error('Error stopping voice command:', err);\n        }\n        setVoiceActive(false);\n        setVoiceText('Voice command stopped');\n\n        // Clear any existing polling interval\n        if (recognitionInterval) {\n          console.log('Clearing polling interval');\n          clearInterval(recognitionInterval);\n          setRecognitionInterval(null);\n        }\n\n        // Clear voice text after a delay\n        setTimeout(() => {\n          setVoiceText('');\n        }, 2000);\n        return;\n      }\n\n      // Start new voice command session\n      setVoiceActive(true);\n      setVoiceText('Listening...');\n\n      // Start voice command on backend\n      console.log('Initiating voice command on backend...');\n      const response = await fileSystemService.startVoiceCommand();\n      console.log('Voice command response:', response);\n      let listeningTimeout = null;\n\n      // Poll for voice recognition updates\n      console.log('Setting up polling for voice status updates...');\n      const interval = setInterval(async () => {\n        try {\n          // Only continue polling if still in voice active mode\n          if (!voiceActive) {\n            console.log('Voice recognition no longer active, stopping polling');\n            clearInterval(interval);\n            setRecognitionInterval(null);\n            return;\n          }\n          console.log('Polling for voice status...');\n          const voiceStatusResponse = await fileSystemService.getVoiceStatus();\n          console.log('Voice status response:', voiceStatusResponse.data);\n          if (voiceStatusResponse.data && voiceStatusResponse.data.text) {\n            const currentStatus = voiceStatusResponse.data.text;\n\n            // Debug the exact status we received\n            console.log('RECEIVED STATUS TEXT:', JSON.stringify(currentStatus));\n\n            // Handle success notifications with priority\n            if (currentStatus.includes('SUCCESS') || currentStatus.includes('success') || currentStatus.includes('Folder created') || currentStatus.includes('File created')) {\n              console.log('ðŸŸ¢ SUCCESS STATUS DETECTED:', currentStatus);\n\n              // Force refresh files\n              await fetchFiles();\n\n              // Set success notification with the exact message\n              setSuccessNotification(currentStatus);\n              setTimeout(() => setSuccessNotification(null), 8000);\n            }\n\n            // Always update the voice text display\n            setVoiceText(currentStatus);\n\n            // If the command is completed, restart voice recognition\n            if (voiceStatusResponse.data.completed) {\n              console.log('Voice command completed, starting a new listening session');\n              await fileSystemService.startVoiceCommand();\n            }\n          }\n        } catch (err) {\n          console.error('Error getting voice status:', err);\n        }\n      }, 300); // Poll frequently for better responsiveness\n\n      setRecognitionInterval(interval);\n    } catch (err) {\n      console.error('Failed to start voice command:', err);\n      setError('Failed to start voice command');\n      setVoiceActive(false);\n      setVoiceText('');\n    }\n  };\n\n  // Clean up interval on component unmount\n  useEffect(() => {\n    return () => {\n      if (recognitionInterval) {\n        clearInterval(recognitionInterval);\n      }\n    };\n  }, [recognitionInterval]);\n  const handleLogout = () => {\n    try {\n      console.log('Logging out...');\n      // First clear the auth data\n      authService.logout();\n      console.log('Auth data cleared');\n\n      // Force navigation to login page and reload to reset state\n      console.log('Redirecting to login page');\n      window.location.href = '/';\n    } catch (err) {\n      console.error('Logout error:', err);\n      // Fallback navigation\n      navigate('/');\n    }\n  };\n  const handleNavigate = async path => {\n    try {\n      console.log('Navigating to:', path);\n      const response = await fileSystemService.changeDirectory(path);\n      console.log('Navigation response:', response);\n\n      // Reset file state\n      setSelectedFile(null);\n      setFileContent('');\n      setEditMode(false);\n\n      // Refresh the file list\n      await fetchFiles();\n    } catch (err) {\n      var _err$response3;\n      console.error(`Failed to navigate to ${path}:`, err);\n      setError(`Failed to navigate to ${path}: ${((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.data) || err.message}`);\n    }\n  };\n  const handleNavigateUp = async () => {\n    try {\n      console.log('Navigating up...');\n      const response = await fileSystemService.moveUpDirectory();\n      console.log('Navigate up response:', response);\n\n      // Reset file state\n      setSelectedFile(null);\n      setFileContent('');\n      setEditMode(false);\n\n      // Refresh the file list\n      await fetchFiles();\n    } catch (err) {\n      var _err$response4;\n      console.error('Failed to navigate up:', err);\n      setError(`Failed to navigate up: ${((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.data) || err.message}`);\n    }\n  };\n  const handleCreateFolder = async () => {\n    if (!newFolderName.trim()) {\n      setError('Folder name cannot be empty');\n      return;\n    }\n    try {\n      setError('');\n      console.log('Creating folder:', newFolderName);\n      const response = await fileSystemService.createDirectory(newFolderName);\n      console.log('Create folder response:', response);\n      setNewFolderName('');\n      setShowCreateFolder(false);\n\n      // Refresh the file list\n      await fetchFiles();\n    } catch (err) {\n      var _err$response5;\n      console.error('Failed to create folder:', err);\n      setError('Failed to create folder: ' + (((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : _err$response5.data) || err.message));\n    }\n  };\n  const handleCreateFile = async () => {\n    if (!newFileName.trim()) {\n      setError('File name cannot be empty');\n      return;\n    }\n    try {\n      setError('');\n      console.log('Creating file:', newFileName, 'with content:', newFileContent);\n      const response = await fileSystemService.createFile(newFileName, newFileContent);\n      console.log('Create file response:', response);\n      setNewFileName('');\n      setNewFileContent('');\n      setShowCreateFile(false);\n\n      // Refresh the file list\n      await fetchFiles();\n    } catch (err) {\n      var _err$response6;\n      console.error('Failed to create file:', err);\n      setError('Failed to create file: ' + (((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : _err$response6.data) || err.message));\n    }\n  };\n  const handleDeleteItem = async (name, isDirectory) => {\n    try {\n      if (isDirectory) {\n        console.log('Deleting directory:', name);\n        const response = await fileSystemService.deleteDirectory(name);\n        console.log('Delete directory response:', response);\n      } else {\n        console.log('Deleting file:', name);\n        const response = await fileSystemService.deleteFile(name);\n        console.log('Delete file response:', response);\n      }\n\n      // Refresh the file list\n      await fetchFiles();\n      if (selectedFile === name) {\n        setSelectedFile(null);\n        setFileContent('');\n        setEditMode(false);\n      }\n    } catch (err) {\n      var _err$response7;\n      console.error(`Failed to delete ${isDirectory ? 'folder' : 'file'}:`, err);\n      setError(`Failed to delete ${isDirectory ? 'folder' : 'file'}: ${((_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : _err$response7.data) || err.message}`);\n    }\n  };\n  const handleFileClick = async fileName => {\n    try {\n      setError('');\n      console.log('Reading file:', fileName);\n      setSelectedFile(fileName);\n      setEditMode(false);\n      const response = await fileSystemService.readFile(fileName);\n      console.log('Read file response status:', response.status);\n      setFileContent(response.data);\n    } catch (err) {\n      var _err$response8;\n      console.error('Failed to read file:', err);\n      setError('Failed to read file: ' + (((_err$response8 = err.response) === null || _err$response8 === void 0 ? void 0 : _err$response8.data) || err.message));\n      setFileContent('');\n    }\n  };\n  const handleSaveFile = async () => {\n    try {\n      setError('');\n      console.log('Saving file:', selectedFile);\n      const response = await fileSystemService.editFile(selectedFile, fileContent);\n      console.log('Save file response:', response);\n      setEditMode(false);\n\n      // Optionally refresh the file list after saving\n      await fetchFiles();\n    } catch (err) {\n      var _err$response9;\n      console.error('Failed to save file:', err);\n      setError('Failed to save file: ' + (((_err$response9 = err.response) === null || _err$response9 === void 0 ? void 0 : _err$response9.data) || err.message));\n    }\n  };\n  const updateVoiceStatus = useCallback(() => {\n    if (voiceActive) {\n      console.log(\"Polling for voice status...\");\n      fileSystemService.getVoiceStatus().then(response => {\n        console.log(\"Voice status response:\", response.data);\n        const currentStatus = response.data.text || \"\";\n        const isCompleted = response.data.completed || false;\n\n        // Update voice text with current status\n        setVoiceText(currentStatus);\n\n        // Check for success messages explicitly\n        if (currentStatus.includes(\"Folder created\") || currentStatus.includes(\"File created\") || currentStatus.includes(\"File opened\") || currentStatus.includes(\"Item deleted\")) {\n          console.log(\"SUCCESS DETECTED:\", currentStatus);\n\n          // Set success notification with the message\n          setSuccessNotification(currentStatus);\n\n          // Refresh the file list to show new changes\n          fetchFiles();\n\n          // Clear success notification after 10 seconds\n          setTimeout(() => {\n            setSuccessNotification(null);\n          }, 10000);\n        }\n\n        // Handle completion\n        if (isCompleted) {\n          console.log(\"Voice command completed\");\n          setTimeout(() => {\n            setVoiceActive(false);\n            setVoiceText(null);\n          }, 3000); // Keep final message visible for 3 seconds\n        }\n      });\n    }\n  }, []);\n  const toggleDarkMode = () => {\n    setDarkMode(prevMode => {\n      const newMode = !prevMode;\n      localStorage.setItem('darkMode', newMode);\n      if (newMode) {\n        document.body.classList.add('dark-mode');\n      } else {\n        document.body.classList.remove('dark-mode');\n      }\n      return newMode;\n    });\n  };\n\n  // Enhanced function to specifically handle voice commands\n  const processVoiceCommandStatus = async status => {\n    console.log('Processing voice command status:', status);\n\n    // Explicit check for SUCCESS messages (case insensitive)\n    if (status.includes('SUCCESS') || status.includes('success')) {\n      console.log('SUCCESS DETECTED - Setting notification:', status);\n      setSuccessNotification(status);\n      setTimeout(() => setSuccessNotification(null), 8000); // longer display\n      await fetchFiles();\n      return true;\n    }\n\n    // Check for creation/action commands\n    if (status.includes('created') || status.includes('deleted') || status.includes('opened') || status.includes('navigated')) {\n      console.log('ACTION DETECTED IN VOICE COMMAND:', status);\n\n      // Show success notification\n      setSuccessNotification(status);\n      setTimeout(() => setSuccessNotification(null), 5000);\n\n      // Refresh files to show changes\n      await fetchFiles();\n      return true;\n    }\n    return false;\n  };\n\n  // Add a useEffect to log when the success notification changes\n  useEffect(() => {\n    if (successNotification) {\n      console.log('SUCCESS NOTIFICATION CHANGED:', successNotification);\n\n      // Debug log: Force notification to be visible\n      const successElement = document.querySelector('.success-notification');\n      if (successElement) {\n        console.log('Success notification element found in DOM');\n      } else {\n        console.warn('Success notification element NOT found in DOM despite successNotification being set');\n      }\n    }\n  }, [successNotification]);\n\n  // Set notification function for testing from console\n  useEffect(() => {\n    // Expose a function to test setting notifications from the console\n    window.testNotification = message => {\n      console.log(`Setting test notification: ${message}`);\n      setSuccessNotification(message);\n      setTimeout(() => setSuccessNotification(null), 5000);\n    };\n    return () => {\n      delete window.testNotification;\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [successNotification && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-notification\",\n      children: [/*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 11\n      }, this), \" \", successNotification]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `file-explorer ${darkMode ? 'dark-mode' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"explorer-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"File System Explorer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"theme-toggle-btn\",\n            onClick: toggleDarkMode,\n            title: darkMode ? \"Switch to Light Mode\" : \"Switch to Dark Mode\",\n            children: darkMode ? /*#__PURE__*/_jsxDEV(FaSun, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 27\n            }, this) : /*#__PURE__*/_jsxDEV(FaMoon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 39\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setSuccessNotification(`Test Notification (${new Date().toLocaleTimeString()})`);\n              setTimeout(() => setSuccessNotification(null), 5000);\n            },\n            className: \"action-btn\",\n            title: \"Test Notification\",\n            children: [/*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 15\n            }, this), \" Test\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleStartVoiceCommand,\n            className: `action-btn ${voiceActive ? 'active' : ''}`,\n            title: voiceActive ? \"Stop Voice Command\" : \"Start Voice Command\",\n            children: [/*#__PURE__*/_jsxDEV(FaMicrophone, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 15\n            }, this), \" \", voiceActive ? 'Stop' : 'Voice']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"action-btn\",\n            title: \"Logout\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 19\n      }, this), voiceText && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"voice-text-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `voice-text ${voiceText.includes(\"Listening\") ? \"listening\" : voiceText.includes(\"Recognized:\") ? \"recognized\" : voiceText.includes(\"ERROR\") || voiceText.includes(\"Failed\") || voiceText.includes(\"Error\") ? \"error\" : voiceText.includes(\"SUCCESS\") || voiceText.includes(\"created\") || voiceText.includes(\"Navigated\") || voiceText.includes(\"Deleted\") ? \"success\" : voiceText.includes(\"Processing\") ? \"processing\" : \"\"}`,\n          children: [/*#__PURE__*/_jsxDEV(FaMicrophone, {\n            className: \"voice-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 15\n          }, this), \" \", voiceText]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"path-navigation\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"current-path\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Current Path:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 13\n          }, this), \" \", currentDir]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNavigateUp,\n          className: \"nav-btn\",\n          children: [/*#__PURE__*/_jsxDEV(FaArrowUp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 13\n          }, this), \" Up\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowCreateFolder(true),\n          className: \"action-btn\",\n          children: [/*#__PURE__*/_jsxDEV(FaFolder, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 13\n          }, this), \" New Folder\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowCreateFile(true),\n          className: \"action-btn\",\n          children: [/*#__PURE__*/_jsxDEV(FaFile, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 13\n          }, this), \" New File\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 9\n      }, this), showCreateFolder && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Create New Folder\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Folder Name\",\n            value: newFolderName,\n            onChange: e => setNewFolderName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCreateFolder,\n              children: \"Create\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowCreateFolder(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 11\n      }, this), showCreateFile && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Create New File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"File Name\",\n            value: newFileName,\n            onChange: e => setNewFileName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"File Content\",\n            value: newFileContent,\n            onChange: e => setNewFileContent(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCreateFile,\n              children: \"Create\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowCreateFile(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"explorer-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Files and Folders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 13\n          }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: files.length === 0 ? /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"empty-message\",\n              children: \"No files or folders found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 19\n            }, this) : files.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: `file-item ${selectedFile === item.name ? 'selected' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-name\",\n                onClick: () => item.type === 'directory' ? handleNavigate(item.name) : handleFileClick(item.name),\n                children: [item.type === 'directory' ? /*#__PURE__*/_jsxDEV(FaFolder, {\n                  className: \"icon folder\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 642,\n                  columnNumber: 54\n                }, this) : /*#__PURE__*/_jsxDEV(FaFile, {\n                  className: \"icon file\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 642,\n                  columnNumber: 93\n                }, this), item.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-actions\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteItem(item.name, item.type === 'directory'),\n                  className: \"file-action-btn delete\",\n                  children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 646,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 645,\n                columnNumber: 23\n              }, this)]\n            }, item.name, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-preview\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: selectedFile ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"File: \", selectedFile]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-preview-actions\",\n                children: editMode ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSaveFile,\n                  className: \"edit-btn save\",\n                  children: [/*#__PURE__*/_jsxDEV(FaSave, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 668,\n                    columnNumber: 25\n                  }, this), \" Save\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 667,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setEditMode(true),\n                  className: \"edit-btn\",\n                  children: [/*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 672,\n                    columnNumber: 25\n                  }, this), \" Edit\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 671,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : 'Select a file to preview'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 13\n          }, this), selectedFile && (editMode ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"file-content-editor\",\n            value: fileContent,\n            onChange: e => setFileContent(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"pre\", {\n            className: \"file-content\",\n            children: fileContent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(FileExplorer, \"BnQw5wr8hXZtuHLKd3nZ+IdjLC8=\", false, function () {\n  return [useNavigate];\n});\n_c = FileExplorer;\nexport default FileExplorer;\nvar _c;\n$RefreshReg$(_c, \"FileExplorer\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","fileSystemService","authService","FaFolder","FaFile","FaArrowUp","FaPlus","FaTrash","FaEdit","FaPen","FaSave","FaMicrophone","FaCheck","FaSun","FaMoon","jsxDEV","_jsxDEV","Fragment","_Fragment","FileExplorer","_s","files","setFiles","currentDir","setCurrentDir","loading","setLoading","error","setError","showCreateFolder","setShowCreateFolder","showCreateFile","setShowCreateFile","newFolderName","setNewFolderName","newFileName","setNewFileName","newFileContent","setNewFileContent","selectedFile","setSelectedFile","fileContent","setFileContent","editMode","setEditMode","voiceActive","setVoiceActive","voiceText","setVoiceText","recognitionInterval","setRecognitionInterval","successNotification","setSuccessNotification","darkMode","setDarkMode","navigate","fetchFiles","console","log","dirResponse","getCurrentDirectory","data","warn","response","listFiles","items","parsedData","JSON","parse","parseErr","err","_err$response","_err$response2","message","status","handleLogout","savedTheme","localStorage","getItem","document","body","classList","add","setTimeout","handleStartVoiceCommand","stopVoiceCommand","clearInterval","startVoiceCommand","listeningTimeout","interval","setInterval","voiceStatusResponse","getVoiceStatus","text","currentStatus","stringify","includes","completed","logout","window","location","href","handleNavigate","path","changeDirectory","_err$response3","handleNavigateUp","moveUpDirectory","_err$response4","handleCreateFolder","trim","createDirectory","_err$response5","handleCreateFile","createFile","_err$response6","handleDeleteItem","name","isDirectory","deleteDirectory","deleteFile","_err$response7","handleFileClick","fileName","readFile","_err$response8","handleSaveFile","editFile","_err$response9","updateVoiceStatus","then","isCompleted","toggleDarkMode","prevMode","newMode","setItem","remove","processVoiceCommandStatus","successElement","querySelector","testNotification","children","className","_jsxFileName","lineNumber","columnNumber","onClick","title","Date","toLocaleTimeString","type","placeholder","value","onChange","e","target","length","map","item","_c","$RefreshReg$"],"sources":["C:/Users/marco/OneDrive/Desktop/GIT_PBL#/FileSystemSimulator/frontend/src/components/FileExplorer.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { fileSystemService, authService } from '../api';\r\nimport { FaFolder, FaFile, FaArrowUp, FaPlus, FaTrash, FaEdit, FaPen, FaSave, FaMicrophone, FaCheck, FaSun, FaMoon } from 'react-icons/fa';\r\nimport './FileExplorer.css';\r\n\r\nconst FileExplorer = () => {\r\n  const [files, setFiles] = useState([]);\r\n  const [currentDir, setCurrentDir] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [showCreateFolder, setShowCreateFolder] = useState(false);\r\n  const [showCreateFile, setShowCreateFile] = useState(false);\r\n  const [newFolderName, setNewFolderName] = useState('');\r\n  const [newFileName, setNewFileName] = useState('');\r\n  const [newFileContent, setNewFileContent] = useState('');\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [fileContent, setFileContent] = useState('');\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [voiceActive, setVoiceActive] = useState(false);\r\n  const [voiceText, setVoiceText] = useState('');\r\n  const [recognitionInterval, setRecognitionInterval] = useState(null);\r\n  const [successNotification, setSuccessNotification] = useState(null);\r\n  const [darkMode, setDarkMode] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const fetchFiles = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      // Fetch current directory first\r\n      console.log('Fetching current directory...');\r\n      const dirResponse = await fileSystemService.getCurrentDirectory();\r\n      console.log('Current directory response:', dirResponse);\r\n      \r\n      if (dirResponse.data) {\r\n        setCurrentDir(dirResponse.data);\r\n        console.log('Current directory set to:', dirResponse.data);\r\n      } else {\r\n        console.warn('Unexpected current directory response format:', dirResponse);\r\n      }\r\n      \r\n      // Then fetch files in that directory\r\n      console.log('Fetching files in directory...');\r\n      const response = await fileSystemService.listFiles();\r\n      console.log('List files raw response:', response);\r\n      \r\n      // Check if the response has an items property\r\n      if (response.data && response.data.items) {\r\n        console.log('Files list received:', response.data.items);\r\n        setFiles(response.data.items);\r\n      } else {\r\n        // Try to parse the response if it's a string\r\n        try {\r\n          if (typeof response.data === 'string') {\r\n            const parsedData = JSON.parse(response.data);\r\n            if (parsedData.items) {\r\n              console.log('Files list parsed from string:', parsedData.items);\r\n              setFiles(parsedData.items);\r\n              return;\r\n            }\r\n          }\r\n        } catch (parseErr) {\r\n          console.error('Failed to parse response data:', parseErr);\r\n        }\r\n        \r\n        // Handle the case when the response doesn't have the expected format\r\n        console.error('Unexpected response format:', response.data);\r\n        setFiles([]);\r\n        setError('Unexpected response format from server');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching files:', err);\r\n      setError('Failed to load files: ' + (err.response?.data || err.message));\r\n      if (err.response?.status === 401) {\r\n        // Handle unauthorized\r\n        console.warn('Unauthorized access detected, logging out...');\r\n        handleLogout();\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchFiles();\r\n    \r\n    // Set up initial theme based on local storage\r\n    const savedTheme = localStorage.getItem('darkMode');\r\n    if (savedTheme === 'true') {\r\n      setDarkMode(true);\r\n      document.body.classList.add('dark-mode');\r\n    }\r\n    \r\n    // Test the success notification system on initial load\r\n    setTimeout(() => {\r\n      setSuccessNotification(\"Welcome to File System Simulator!\");\r\n      setTimeout(() => setSuccessNotification(null), 5000);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  const handleStartVoiceCommand = async () => {\r\n    try {\r\n      setError('');\r\n      \r\n      // If already listening, stop the voice command\r\n      if (voiceActive) {\r\n        console.log('Stopping voice command...');\r\n        \r\n        // Call the stop endpoint\r\n        try {\r\n          await fileSystemService.stopVoiceCommand();\r\n          console.log('Voice command stopped via API');\r\n        } catch (err) {\r\n          console.error('Error stopping voice command:', err);\r\n        }\r\n        \r\n        setVoiceActive(false);\r\n        setVoiceText('Voice command stopped');\r\n        \r\n        // Clear any existing polling interval\r\n        if (recognitionInterval) {\r\n          console.log('Clearing polling interval');\r\n          clearInterval(recognitionInterval);\r\n          setRecognitionInterval(null);\r\n        }\r\n        \r\n        // Clear voice text after a delay\r\n        setTimeout(() => {\r\n          setVoiceText('');\r\n        }, 2000);\r\n        \r\n        return;\r\n      }\r\n      \r\n      // Start new voice command session\r\n      setVoiceActive(true);\r\n      setVoiceText('Listening...');\r\n      \r\n      // Start voice command on backend\r\n      console.log('Initiating voice command on backend...');\r\n      const response = await fileSystemService.startVoiceCommand();\r\n      console.log('Voice command response:', response);\r\n      \r\n      let listeningTimeout = null;\r\n      \r\n      // Poll for voice recognition updates\r\n      console.log('Setting up polling for voice status updates...');\r\n      const interval = setInterval(async () => {\r\n        try {\r\n          // Only continue polling if still in voice active mode\r\n          if (!voiceActive) {\r\n            console.log('Voice recognition no longer active, stopping polling');\r\n            clearInterval(interval);\r\n            setRecognitionInterval(null);\r\n            return;\r\n          }\r\n          \r\n          console.log('Polling for voice status...');\r\n          const voiceStatusResponse = await fileSystemService.getVoiceStatus();\r\n          console.log('Voice status response:', voiceStatusResponse.data);\r\n          \r\n          if (voiceStatusResponse.data && voiceStatusResponse.data.text) {\r\n            const currentStatus = voiceStatusResponse.data.text;\r\n            \r\n            // Debug the exact status we received\r\n            console.log('RECEIVED STATUS TEXT:', JSON.stringify(currentStatus));\r\n            \r\n            // Handle success notifications with priority\r\n            if (currentStatus.includes('SUCCESS') || \r\n                currentStatus.includes('success') ||\r\n                currentStatus.includes('Folder created') || \r\n                currentStatus.includes('File created')) {\r\n              console.log('ðŸŸ¢ SUCCESS STATUS DETECTED:', currentStatus);\r\n              \r\n              // Force refresh files\r\n              await fetchFiles();\r\n              \r\n              // Set success notification with the exact message\r\n              setSuccessNotification(currentStatus);\r\n              setTimeout(() => setSuccessNotification(null), 8000);\r\n            }\r\n            \r\n            // Always update the voice text display\r\n            setVoiceText(currentStatus);\r\n            \r\n            // If the command is completed, restart voice recognition\r\n            if (voiceStatusResponse.data.completed) {\r\n              console.log('Voice command completed, starting a new listening session');\r\n              await fileSystemService.startVoiceCommand();\r\n            }\r\n          }\r\n        } catch (err) {\r\n          console.error('Error getting voice status:', err);\r\n        }\r\n      }, 300); // Poll frequently for better responsiveness\r\n      \r\n      setRecognitionInterval(interval);\r\n      \r\n    } catch (err) {\r\n      console.error('Failed to start voice command:', err);\r\n      setError('Failed to start voice command');\r\n      setVoiceActive(false);\r\n      setVoiceText('');\r\n    }\r\n  };\r\n\r\n  // Clean up interval on component unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (recognitionInterval) {\r\n        clearInterval(recognitionInterval);\r\n      }\r\n    };\r\n  }, [recognitionInterval]);\r\n\r\n  const handleLogout = () => {\r\n    try {\r\n      console.log('Logging out...');\r\n      // First clear the auth data\r\n      authService.logout();\r\n      console.log('Auth data cleared');\r\n      \r\n      // Force navigation to login page and reload to reset state\r\n      console.log('Redirecting to login page');\r\n      window.location.href = '/';\r\n    } catch (err) {\r\n      console.error('Logout error:', err);\r\n      // Fallback navigation\r\n      navigate('/');\r\n    }\r\n  };\r\n\r\n  const handleNavigate = async (path) => {\r\n    try {\r\n      console.log('Navigating to:', path);\r\n      const response = await fileSystemService.changeDirectory(path);\r\n      console.log('Navigation response:', response);\r\n      \r\n      // Reset file state\r\n      setSelectedFile(null);\r\n      setFileContent('');\r\n      setEditMode(false);\r\n      \r\n      // Refresh the file list\r\n      await fetchFiles();\r\n    } catch (err) {\r\n      console.error(`Failed to navigate to ${path}:`, err);\r\n      setError(`Failed to navigate to ${path}: ${err.response?.data || err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleNavigateUp = async () => {\r\n    try {\r\n      console.log('Navigating up...');\r\n      const response = await fileSystemService.moveUpDirectory();\r\n      console.log('Navigate up response:', response);\r\n      \r\n      // Reset file state\r\n      setSelectedFile(null);\r\n      setFileContent('');\r\n      setEditMode(false);\r\n      \r\n      // Refresh the file list\r\n      await fetchFiles();\r\n    } catch (err) {\r\n      console.error('Failed to navigate up:', err);\r\n      setError(`Failed to navigate up: ${err.response?.data || err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleCreateFolder = async () => {\r\n    if (!newFolderName.trim()) {\r\n      setError('Folder name cannot be empty');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setError('');\r\n      console.log('Creating folder:', newFolderName);\r\n      const response = await fileSystemService.createDirectory(newFolderName);\r\n      console.log('Create folder response:', response);\r\n      setNewFolderName('');\r\n      setShowCreateFolder(false);\r\n      \r\n      // Refresh the file list\r\n      await fetchFiles();\r\n    } catch (err) {\r\n      console.error('Failed to create folder:', err);\r\n      setError('Failed to create folder: ' + (err.response?.data || err.message));\r\n    }\r\n  };\r\n\r\n  const handleCreateFile = async () => {\r\n    if (!newFileName.trim()) {\r\n      setError('File name cannot be empty');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setError('');\r\n      console.log('Creating file:', newFileName, 'with content:', newFileContent);\r\n      const response = await fileSystemService.createFile(newFileName, newFileContent);\r\n      console.log('Create file response:', response);\r\n      setNewFileName('');\r\n      setNewFileContent('');\r\n      setShowCreateFile(false);\r\n      \r\n      // Refresh the file list\r\n      await fetchFiles();\r\n    } catch (err) {\r\n      console.error('Failed to create file:', err);\r\n      setError('Failed to create file: ' + (err.response?.data || err.message));\r\n    }\r\n  };\r\n\r\n  const handleDeleteItem = async (name, isDirectory) => {\r\n    try {\r\n      if (isDirectory) {\r\n        console.log('Deleting directory:', name);\r\n        const response = await fileSystemService.deleteDirectory(name);\r\n        console.log('Delete directory response:', response);\r\n      } else {\r\n        console.log('Deleting file:', name);\r\n        const response = await fileSystemService.deleteFile(name);\r\n        console.log('Delete file response:', response);\r\n      }\r\n      \r\n      // Refresh the file list\r\n      await fetchFiles();\r\n      \r\n      if (selectedFile === name) {\r\n        setSelectedFile(null);\r\n        setFileContent('');\r\n        setEditMode(false);\r\n      }\r\n    } catch (err) {\r\n      console.error(`Failed to delete ${isDirectory ? 'folder' : 'file'}:`, err);\r\n      setError(`Failed to delete ${isDirectory ? 'folder' : 'file'}: ${err.response?.data || err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleFileClick = async (fileName) => {\r\n    try {\r\n      setError('');\r\n      console.log('Reading file:', fileName);\r\n      setSelectedFile(fileName);\r\n      setEditMode(false);\r\n      \r\n      const response = await fileSystemService.readFile(fileName);\r\n      console.log('Read file response status:', response.status);\r\n      setFileContent(response.data);\r\n    } catch (err) {\r\n      console.error('Failed to read file:', err);\r\n      setError('Failed to read file: ' + (err.response?.data || err.message));\r\n      setFileContent('');\r\n    }\r\n  };\r\n\r\n  const handleSaveFile = async () => {\r\n    try {\r\n      setError('');\r\n      console.log('Saving file:', selectedFile);\r\n      const response = await fileSystemService.editFile(selectedFile, fileContent);\r\n      console.log('Save file response:', response);\r\n      setEditMode(false);\r\n      \r\n      // Optionally refresh the file list after saving\r\n      await fetchFiles();\r\n    } catch (err) {\r\n      console.error('Failed to save file:', err);\r\n      setError('Failed to save file: ' + (err.response?.data || err.message));\r\n    }\r\n  };\r\n\r\n  const updateVoiceStatus = useCallback(() => {\r\n    if (voiceActive) {\r\n      console.log(\"Polling for voice status...\");\r\n      \r\n      fileSystemService.getVoiceStatus()\r\n        .then(response => {\r\n          console.log(\"Voice status response:\", response.data);\r\n          const currentStatus = response.data.text || \"\";\r\n          const isCompleted = response.data.completed || false;\r\n          \r\n          // Update voice text with current status\r\n          setVoiceText(currentStatus);\r\n          \r\n          // Check for success messages explicitly\r\n          if (currentStatus.includes(\"Folder created\") || \r\n              currentStatus.includes(\"File created\") || \r\n              currentStatus.includes(\"File opened\") ||\r\n              currentStatus.includes(\"Item deleted\")) {\r\n            console.log(\"SUCCESS DETECTED:\", currentStatus);\r\n            \r\n            // Set success notification with the message\r\n            setSuccessNotification(currentStatus);\r\n            \r\n            // Refresh the file list to show new changes\r\n            fetchFiles();\r\n            \r\n            // Clear success notification after 10 seconds\r\n            setTimeout(() => {\r\n              setSuccessNotification(null);\r\n            }, 10000);\r\n          }\r\n          \r\n          // Handle completion\r\n          if (isCompleted) {\r\n            console.log(\"Voice command completed\");\r\n            setTimeout(() => {\r\n              setVoiceActive(false);\r\n              setVoiceText(null);\r\n            }, 3000); // Keep final message visible for 3 seconds\r\n          }\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const toggleDarkMode = () => {\r\n    setDarkMode(prevMode => {\r\n      const newMode = !prevMode;\r\n      localStorage.setItem('darkMode', newMode);\r\n      \r\n      if (newMode) {\r\n        document.body.classList.add('dark-mode');\r\n      } else {\r\n        document.body.classList.remove('dark-mode');\r\n      }\r\n      \r\n      return newMode;\r\n    });\r\n  };\r\n\r\n  // Enhanced function to specifically handle voice commands\r\n  const processVoiceCommandStatus = async (status) => {\r\n    console.log('Processing voice command status:', status);\r\n    \r\n    // Explicit check for SUCCESS messages (case insensitive)\r\n    if (status.includes('SUCCESS') || status.includes('success')) {\r\n      console.log('SUCCESS DETECTED - Setting notification:', status);\r\n      setSuccessNotification(status);\r\n      setTimeout(() => setSuccessNotification(null), 8000); // longer display\r\n      await fetchFiles();\r\n      return true;\r\n    }\r\n    \r\n    // Check for creation/action commands\r\n    if (status.includes('created') || \r\n        status.includes('deleted') || \r\n        status.includes('opened') ||\r\n        status.includes('navigated')) {\r\n      \r\n      console.log('ACTION DETECTED IN VOICE COMMAND:', status);\r\n      \r\n      // Show success notification\r\n      setSuccessNotification(status);\r\n      setTimeout(() => setSuccessNotification(null), 5000);\r\n      \r\n      // Refresh files to show changes\r\n      await fetchFiles();\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // Add a useEffect to log when the success notification changes\r\n  useEffect(() => {\r\n    if (successNotification) {\r\n      console.log('SUCCESS NOTIFICATION CHANGED:', successNotification);\r\n      \r\n      // Debug log: Force notification to be visible\r\n      const successElement = document.querySelector('.success-notification');\r\n      if (successElement) {\r\n        console.log('Success notification element found in DOM');\r\n      } else {\r\n        console.warn('Success notification element NOT found in DOM despite successNotification being set');\r\n      }\r\n    }\r\n  }, [successNotification]);\r\n\r\n  // Set notification function for testing from console\r\n  useEffect(() => {\r\n    // Expose a function to test setting notifications from the console\r\n    window.testNotification = (message) => {\r\n      console.log(`Setting test notification: ${message}`);\r\n      setSuccessNotification(message);\r\n      setTimeout(() => setSuccessNotification(null), 5000);\r\n    };\r\n    \r\n    return () => {\r\n      delete window.testNotification;\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {/* Success notification positioned outside the main container for maximum visibility */}\r\n      {successNotification && (\r\n        <div className=\"success-notification\">\r\n          <FaCheck /> {successNotification}\r\n        </div>\r\n      )}\r\n      \r\n      <div className={`file-explorer ${darkMode ? 'dark-mode' : ''}`}>\r\n        <div className=\"explorer-header\">\r\n          <h2>File System Explorer</h2>\r\n          <div className=\"header-actions\">\r\n            <button \r\n              className=\"theme-toggle-btn\" \r\n              onClick={toggleDarkMode} \r\n              title={darkMode ? \"Switch to Light Mode\" : \"Switch to Dark Mode\"}\r\n            >\r\n              {darkMode ? <FaSun /> : <FaMoon />}\r\n            </button>\r\n            \r\n            <button \r\n              onClick={() => {\r\n                setSuccessNotification(`Test Notification (${new Date().toLocaleTimeString()})`);\r\n                setTimeout(() => setSuccessNotification(null), 5000);\r\n              }}\r\n              className=\"action-btn\"\r\n              title=\"Test Notification\"\r\n            >\r\n              <FaCheck /> Test\r\n            </button>\r\n            \r\n            <button \r\n              onClick={handleStartVoiceCommand} \r\n              className={`action-btn ${voiceActive ? 'active' : ''}`}\r\n              title={voiceActive ? \"Stop Voice Command\" : \"Start Voice Command\"}\r\n            >\r\n              <FaMicrophone /> {voiceActive ? 'Stop' : 'Voice'}\r\n            </button>\r\n            \r\n            <button \r\n              onClick={handleLogout} \r\n              className=\"action-btn\"\r\n              title=\"Logout\"\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        {error && <div className=\"error-message\">{error}</div>}\r\n        \r\n        {voiceText && (\r\n          <div className=\"voice-text-container\">\r\n            <div className={`voice-text ${\r\n              voiceText.includes(\"Listening\") ? \"listening\" :\r\n              voiceText.includes(\"Recognized:\") ? \"recognized\" :\r\n              voiceText.includes(\"ERROR\") || voiceText.includes(\"Failed\") || voiceText.includes(\"Error\") ? \"error\" :\r\n              voiceText.includes(\"SUCCESS\") || voiceText.includes(\"created\") || voiceText.includes(\"Navigated\") || voiceText.includes(\"Deleted\") ? \"success\" :\r\n              voiceText.includes(\"Processing\") ? \"processing\" :\r\n              \"\"\r\n            }`}>\r\n              <FaMicrophone className=\"voice-icon\" /> {voiceText}\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"path-navigation\">\r\n          <div className=\"current-path\">\r\n            <strong>Current Path:</strong> {currentDir}\r\n          </div>\r\n          <button onClick={handleNavigateUp} className=\"nav-btn\">\r\n            <FaArrowUp /> Up\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"actions\">\r\n          <button onClick={() => setShowCreateFolder(true)} className=\"action-btn\">\r\n            <FaFolder /> New Folder\r\n          </button>\r\n          <button onClick={() => setShowCreateFile(true)} className=\"action-btn\">\r\n            <FaFile /> New File\r\n          </button>\r\n        </div>\r\n        \r\n        {showCreateFolder && (\r\n          <div className=\"modal\">\r\n            <div className=\"modal-content\">\r\n              <h3>Create New Folder</h3>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Folder Name\"\r\n                value={newFolderName}\r\n                onChange={(e) => setNewFolderName(e.target.value)}\r\n              />\r\n              <div className=\"modal-actions\">\r\n                <button onClick={handleCreateFolder}>Create</button>\r\n                <button onClick={() => setShowCreateFolder(false)}>Cancel</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {showCreateFile && (\r\n          <div className=\"modal\">\r\n            <div className=\"modal-content\">\r\n              <h3>Create New File</h3>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"File Name\"\r\n                value={newFileName}\r\n                onChange={(e) => setNewFileName(e.target.value)}\r\n              />\r\n              <textarea\r\n                placeholder=\"File Content\"\r\n                value={newFileContent}\r\n                onChange={(e) => setNewFileContent(e.target.value)}\r\n              />\r\n              <div className=\"modal-actions\">\r\n                <button onClick={handleCreateFile}>Create</button>\r\n                <button onClick={() => setShowCreateFile(false)}>Cancel</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"explorer-container\">\r\n          <div className=\"file-list\">\r\n            <h3>Files and Folders</h3>\r\n            {loading ? (\r\n              <div className=\"loading\">Loading...</div>\r\n            ) : (\r\n              <ul>\r\n                {files.length === 0 ? (\r\n                  <li className=\"empty-message\">No files or folders found</li>\r\n                ) : (\r\n                  files.map((item) => (\r\n                    <li key={item.name} className={`file-item ${selectedFile === item.name ? 'selected' : ''}`}>\r\n                      <div \r\n                        className=\"file-name\"\r\n                        onClick={() => item.type === 'directory' \r\n                          ? handleNavigate(item.name) \r\n                          : handleFileClick(item.name)\r\n                        }\r\n                      >\r\n                        {item.type === 'directory' ? <FaFolder className=\"icon folder\" /> : <FaFile className=\"icon file\" />}\r\n                        {item.name}\r\n                      </div>\r\n                      <div className=\"file-actions\">\r\n                        <button \r\n                          onClick={() => handleDeleteItem(item.name, item.type === 'directory')}\r\n                          className=\"file-action-btn delete\"\r\n                        >\r\n                          <FaTrash />\r\n                        </button>\r\n                      </div>\r\n                    </li>\r\n                  ))\r\n                )}\r\n              </ul>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"file-preview\">\r\n            <h3>\r\n              {selectedFile ? (\r\n                <>\r\n                  <span>File: {selectedFile}</span>\r\n                  <div className=\"file-preview-actions\">\r\n                    {editMode ? (\r\n                      <button onClick={handleSaveFile} className=\"edit-btn save\">\r\n                        <FaSave /> Save\r\n                      </button>\r\n                    ) : (\r\n                      <button onClick={() => setEditMode(true)} className=\"edit-btn\">\r\n                        <FaEdit /> Edit\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                'Select a file to preview'\r\n              )}\r\n            </h3>\r\n            {selectedFile && (\r\n              editMode ? (\r\n                <textarea\r\n                  className=\"file-content-editor\"\r\n                  value={fileContent}\r\n                  onChange={(e) => setFileContent(e.target.value)}\r\n                />\r\n              ) : (\r\n                <pre className=\"file-content\">{fileContent}</pre>\r\n              )\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FileExplorer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}